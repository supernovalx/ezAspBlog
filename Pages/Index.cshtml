@page
@model IndexModel
@{
    ViewData["Title"] = "Home page";
}

@foreach (var post in Model.Posts)
{
    <div class="post">
        <h1 class="post-title">
            @post.Title
        </h1>
        <hr>
        <h4 class="post-author">Author: 
            <b>
                @post.Author
            </b>
        </h4>
        <p>
            @post.Content
        </p>
        <hr>
        <h4>Comments</h4>
        <form method="post">
            <input name="postId" value="@post.ID" type="hidden">
            <input class="comment-input-name" type="text" name="author" placeholder="Your name" required/>
            <textarea class="comment-input-content" name="content" placeholder="Comment" required></textarea>
            <button asp-page-handler="NewComment">Post comment</button>
        </form>
        <hr />
        @foreach (var comment in post.Comments)
        {
            <div class="comment">
                <form method="post">
                    <input name="commentId" value="@comment.ID" type="hidden">
                    <button asp-page-handler="DeleteComment" class="btn-delete-comment">Delete</button>
                </form>
                <h5>
                    @comment.Author <i>said</i>:
                </h5>
                <hr>
                <p>
                    @comment.Content
                </p>
            </div>
        }
    </div>
}